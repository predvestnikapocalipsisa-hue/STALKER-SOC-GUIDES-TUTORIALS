-- -*- mode: lua; coding: windows-1251-dos -*-
Комплект мультиплатформенных модулей для S.T.A.L.K.E.R. SoC/CS/CoP
Автор: Artos (+ по рекурсии те авторы, работы которых Artos использовал, см. readme к соотв. модулям)
Доработка модулей и синхронизация их между собой: Kirgudu
Исправление найденных ошибок: Charsi, Kirgudu, naxac, dsh

Состав:
lua_helper - различные часто употребляемые и/или полезные функции которые могут использоваться модмейкерами.
m_netpk - интерфейс чтения/записи net-пакетов.
m_timers - менеджер универсальных таймеров.
se_stor - универсальное хранилище данных произвольного размера.

Добавляемые в оригинальные файлы игры фрагменты кода, а также наименования некоторых внутренних функций модулей, используемых в других местах, приведены к единому стандарту.
Таким образом, подключать модули можно по отдельности или в любых сочетаниях, необходимых в конкретном случае, без опасений насчёт совместимости.

Подключение всех модулей и их работа проверены мной во всех частях игры.
В общий сборник включён использовавшийся для этого дополнительный скрипт (test_modules.script).
Для разового тестирования добавить можно, например, на кнопку меню или при первом апдейте актора.

Пример (первый апдейт актора, проверка подключения всех четырёх модулей), bind_stalker.script:

function actor_binder:update(delta)
  --/ ... все строки функции

  if not test_modules_executed and test_modules and type(test_modules.execute) == 'function' and device().precache_frame < 2 then
    test_modules.execute("lua_helper", "m_netpk", "se_stor", "m_timers")
    test_modules_executed = true
  end
end

Результат в логе, если все модули подключены правильно:

test_modules::>[lua_helper]_success!
test_modules::>[lua_extension]_success!
test_modules::>[m_netpk]_success!
test_modules::>[se_stor]_success!
test_modules::>[m_timers]_success!


Успешного использования!
Kirgudu

