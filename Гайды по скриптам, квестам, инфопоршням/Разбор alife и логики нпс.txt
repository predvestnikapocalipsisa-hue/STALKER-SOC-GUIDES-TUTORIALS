-- -*- mode: lua; coding: windows-1251-dos -*-

üß† –ê–ª–∞–π—Ñ –≤ S.T.A.L.K.E.R.: –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–º–∞—Ä—Ç–∞–º –∏ –ª–æ–≥–∏–∫–µ –ù–ü–°

–í–µ—Å—å –∞–ª–∞–π—Ñ –≤ S.T.A.L.K.E.R. –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Å–º–∞—Ä—Ç–∞—Ö (smart terrains)\–≥—É–ª–∞–≥–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ù–ü–°. –°–º–∞—Ä—Ç—ã ‚Äî —ç—Ç–æ –Ω–µ–≤–∏–¥–∏–º—ã–µ –∑–æ–Ω—ã –Ω–∞ –ª–æ–∫–∞—Ü–∏—è—Ö, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ù–ü–°.

–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–µ—Å–ø–∞–≤–Ω –ù–ü–°
–†–µ—Å–ø–∞–≤–Ω –≤ –∏–≥—Ä–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –≤–∞–∫–∞–Ω—Å–∏–π:

–ò–≥—Ä–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –º–µ—Å—Ç –≤ —Å–º–∞—Ä—Ç–∞—Ö
–ï—Å–ª–∏ –º–µ—Å—Ç–æ —Å–≤–æ–±–æ–¥–Ω–æ ‚Äî —Å–∏—Å—Ç–µ–º–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–ø–æ–ª–Ω–∏—Ç—å –µ–≥–æ –ø–æ–¥—Ö–æ–¥—è—â–∏–º –ù–ü–° –∏–∑ —Ä–µ—Å–ø–∞–≤–Ω–∞
–ü–æ—ç—Ç–æ–º—É –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ —Ä–µ–¥–∫–æ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–≤–æ–±–æ–¥–Ω–æ –±–ª—É–∂–¥–∞—é—â–∏–µ –ù–ü–° ‚Äî –ø–æ—á—Ç–∏ –≤—Å–µ –æ–Ω–∏ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω—ã –∫ —Å–º–∞—Ä—Ç–∞–º

–°–º–∞—Ä—Ç—ã\–≥—É–ª–∞–≥–∏ –Ω—É–∂–Ω—ã –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –≥—Ä—É–ø–ø—ã –Ω–ø—Å, –≤ –Ω–∏—Ö –¥–∞–∂–µ –µ—Å–ª–∏ –≤—Å–µ –Ω–ø—Å –ø–æ–≥–∏–±–ª–∏, –∏—Ö –º–µ—Å—Ç–∞ –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞–Ω—è—Ç—ã –¥—Ä—É–≥–∏–º–∏ –Ω–ø—Å –∏–∑ —Ä–µ—Å–ø–∞–≤–Ω–∞.

–ù–æ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ –º–æ–∂–Ω–æ –≤—Å—Ç–µ—Ç–∏—Ç—å –Ω–ø—Å –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏—Ö –Ω–∏ –∫ –æ–¥–Ω–æ–º—É —Å–º–∞—Ä—Ç—É, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –±–∞—Ä–µ 100 —Ä–µ–Ω—Ç–≥–µ–Ω, —É –∫–∞–∂–¥–æ–≥–æ –∏–∑ –Ω–∏—Ö –æ—Ç–¥–µ–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å –∞–∫—Ç–∏–≤–Ω–æ–π —Å—Ö–µ–º–æ–π walker, –µ—Å—Ç—å –ø–æ–º–µ—Ç–∫–∞, –∏–∑-–∑–∞ –∫–æ—Ç–æ—Ä–æ–π —ç—Ç–∏—Ö –Ω–ø—Å –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç —Å–º–∞—Ä—Ç—ã, —Ç–æ –µ—Å—Ç—å, –∫–æ–≥–¥–∞ —Ç–∞–∫–∏–µ –Ω–ø—Å –ø–æ–≥–∏–±–∞—é—Ç –∏—Ö –º–µ—Å—Ç–∞ –Ω–∏–∫—Ç–æ –Ω–µ –∑–∞–π–º–µ—Ç.


–¢–∏–ø—ã —Å–º–∞—Ä—Ç–æ–≤/–≥—É–ª–∞–≥–æ–≤
–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∏–ø–∞ —Å–º–∞—Ä—Ç–æ–≤:

1. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å–º–∞—Ä—Ç—ã (–±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ –ø—Ä–æ —Å–æ–∑–¥–∞–Ω–∏–µ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å–º–∞—Ä—Ç–æ–≤ –≤ https://youtu.be/KRprG1KDkKM)
–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞: –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è, —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ all.spawn
–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏–∫–∏, —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —à–∞–±–ª–æ–Ω–∞–º

2. –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ —Å–º–∞—Ä—Ç—ã (https://youtu.be/E2oKvrqPptE)
–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞: –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ª–æ–≥–∏–∫–æ–π –ø–æ–≤–µ–¥–µ–Ω–∏—è
–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏: –ø–æ–º–∏–º–æ –ø—Ä–∞–≤–æ–∫ –≤ all.spawn, —Ç—Ä–µ–±—É—é—Ç—Å—è –ø—Ä–∞–≤–∫–∏ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö –∏ –∫–æ–Ω—Ñ–∏–≥–∞—Ö
–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏: –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Å—é–∂–µ—Ç–Ω—ã—Ö –ù–ü–° –∏ –≤–∞–∂–Ω—ã—Ö –ª–æ–∫–∞—Ü–∏–π
–ü—Ä–∏–º–µ—Ä—ã: –õ–∞–≥–µ—Ä—å –≤ –¥–µ—Ä–µ–≤–Ω–µ –Ω–æ–≤–∏—á–∫–æ–≤, –±–∞–∑—ã –≥—Ä—É–ø–ø–∏—Ä–æ–≤–æ–∫

3. –°–º–∞—Ä—Ç—ã —Å–º–µ—à–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞
–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏: –ö–æ–º–±–∏–Ω–∞—Ü–∏—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å–º–∞—Ä—Ç–æ–≤ —Å –≥–∏–±–∫–æ—Å—Ç—å—é –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã—Ö
–†–µ–∞–ª–∏–∑–∞—Ü–∏—è: –ò–º–µ—é—Ç —Å–≤–æ–π —Å–∫—Ä–∏–ø—Ç, –Ω–æ –Ω–µ —Ç—Ä–µ–±—É—é—Ç –ø—Ä–∞–≤–∫–∏ –∫–æ–Ω—Ñ–∏–≥–æ–≤
–ü—Ä–∏–º–µ—Ä—ã –≤ –∏–≥—Ä–µ: –¢–µ–º–Ω–∞—è –î–æ–ª–∏–Ω–∞, –ü—Ä–∏–ø—è—Ç—å, –ê—Ä–º–µ–π—Å–∫–∏–µ —Å–∫–ª–∞–¥—ã. 


üõ†Ô∏è –°–æ–∑–¥–∞–Ω–∏–µ —Å–º–∞—Ä—Ç–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤ all.spawn, –∏–Ω–∞—á–µ –Ω–∏–∫–∞–∫, all.spawn –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –°–î–ö –∏–ª–∏ –ê–°–î–°

–û—Ç–∫—Ä—ã–≤–∞–µ–º —Å–¥–∫, –∂–º–µ–º spawn element>ai>smart terrains, —à–ª–µ–ø–∞–µ–º —Å–∏–µ –Ω–∞ –ª–æ–∫–∞—Ü–∏—é, –∑–∞—Ç–µ–º –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ shape>sphere(–º–æ–∂–Ω–æ –∏ box –ø–æ –∂–µ–ª–∞–Ω–∏—é) –∏ —Å–Ω–æ–≤–∞ –≤—Å—Ç–∞–≤–ª—è–µ–º —Å–∏–µ –Ω–∞ –ª–æ–∫–∞—Ü–∏—é, —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –¥–æ –Ω—É–∂–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ (–Ω–µ —Å–∏–ª—å–Ω–æ –±–æ–ª—å—à–∏—Ö), –ø–µ—Ä–µ—Ö–æ–¥–∏–º –æ–±—Ä–∞—Ç–Ω–æ –≤ —Ä–µ–∂–∏–º spawn element, –∂–º–µ–º –∫–Ω–æ–ø–∫—É attach object –∏ –∫–ª–∏–∫–∞–µ–º –Ω–∞ —Å–æ–∑–¥–∞–Ω–Ω–æ–π –Ω–∞–º–∏ —Å—Ñ–µ—Ä–µ. –æ—Ç–∫—Ä—ã–≤–∞–µ–º properties –ø—Ä–∞–≤—ã–º —â–µ–ª—á–∫–æ–º –º—ã—à–∏ –∏–ª–∏ eneter –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –í —Å—Ç—Ä–æ–∫–µ name –ø—Ä–∏–¥—É–º—ã–≤–∞–µ–º –∏–º—è —Å–º–∞—Ä—Ç–∞, –æ–Ω–æ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è, –¥–∞–ª–µ–µ –æ—Ç–∫—Ä—ã–≤–∞–µ–º custom data –∏ –ø–∏—à–µ–º –≤ –Ω–µ–π:
[smart_terrain]
type = esc_smart
capacity = 5 ;–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—Ç –≤ —Å–º–∞—Ä—Ç–µ
communities = stalker ; –∏–ª–∏ –∏–Ω–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞

esc_smart - —Ç–∞–∫ –±—É–¥–µ—Ç –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è –Ω–∞—à —Å–º–∞—Ä—Ç —ç—Ç–æ –∂–µ –∏–º—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ name, —É –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å–º–∞—Ä—Ç–æ–≤ –≤ type —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è general_lager –∏–ª–∏ general_lair, –Ω–æ name –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º —Ç–∏–ø–∞ esc_smart2

–ï—Å–ª–∏ —Ä–µ—à–∏–ª–∏ –¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ –ê–°–î–°, —Ç–æ –Ω–∞–ø—Ä–∏–º–µ—Ä –≤ —Ñ–∞–π–ª–µ alife_l01_escape.ltx —á–µ—Ä–µ–∑ –ø–æ–∏—Å–∫ –Ω–∞–π–¥–∏—Ç–µ section_name = smart_terrain
–ø–µ—Ä–≤–æ–µ —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç —ç—Ç–æ esc_lager, –∫–∞–∫ –≤–∏–¥–∏–º –∏ –≤ –Ω–µ–π–º –∏ –≤ —Ç–∞–π–ø –∏–º—è —Å–æ–≤–ø–∞–¥–∞–µ—Ç

‚öôÔ∏è–î–∞–ª–µ–µ —á—Ç–æ–±—ã –Ω–ø—Å —á—Ç–æ-—Ç–æ –¥–µ–ª–∞–ª –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø—Ä–µ–Ω–∞–¥–ª–µ–∂–∞–ª –∫ —Å–º–∞—Ä—Ç—É, –≤ —Å–º–∞—Ä—Ç–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ä–∞–±–æ—Ç–∞

–õ–µ–≥—á–µ –≤—Å–µ–≥–æ —Ä–∞–±–æ—Ç–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å–º–∞—Ä—Ç–∞—Ö —Ç–∞–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–æ–∑–¥–∞—Ç—å way point –∏ –¥–ª—è –≤–æ–ª–∫–µ—Ä–∞ –æ–Ω–∞ –¥–µ–ª–∞–µ—Ç—Å—è –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É: –∏–º—è_—Å–º–∞—Ä—Ç–∞_walker_1_walk
–ü—Ä–æ —Ä–∞–±–æ—Ç—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å–º–∞—Ä—Ç–æ–≤ —É–∂–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –≥–ª—è–Ω—É—Ç—å –≤–∏–¥–µ–æ.

–í –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã—Ö —Å–º–∞—Ä—Ç–∞—Ö —Ä–∞–±–æ—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å–ª–æ–∂–Ω–µ–µ:
–ù–µ –æ—Å–æ–±–æ –≤–∞–∂–Ω–æ –∫–∞–∫–∞—è –ª–æ–∫–∞—Ü–∏—è —É –≤–∞—Å —Ñ–∞–π–ª, –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —ç—Ç–æ—Ç —Ñ–∞–π–ª \gamedata\scripts\gulag_escape.script

–Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –≤ —Ç—Ä–µ—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö –∑–∞–ø–æ–ª–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –Ω–∞—à–µ–º —Å–º–∞—Ä—Ç–µ
----------------------------------------------------------------------
–í —Ñ—É–Ω–∫—Ü–∏–∏ function load_job(sj, gname, type, squad, groups)

–≤—Å—Ç–∞–≤–ª—è–µ–º —Ç–∞–∫—É—é  —à–ª—è–ø—É, –≥–¥–µ —É–∫–∞–∑–∞–Ω –Ω—É–∂–Ω—ã–π –Ω–∞—à —Ç–∞–π–ø, —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –ø–æ–ª—É—á–∏–ª–∞—Å—å –æ–¥–Ω–æ —Ä–∞–±–æ—Ç–∞ –Ω–∞  –æ–¥–Ω–æ–≥–æ –Ω–ø—Å

if type == "esc_smart" then

	t = { section = "logic@esc_smart_walker",
		idle = 0,
		prior = 5, state = {0},
		in_rest = "", out_rest = ""
	}
	table.insert(sj, t)
	
	–µ—Å–ª–∏ –Ω–∞–¥–æ –µ—â—ë —Ä–∞–±–æ—Ç –¥–ª—è –Ω–ø—Å —Ç–æ –∫–æ–ø–∏—Ä—É–µ–º —ç—Ç–∏ —Å–µ–∫—Ü–∏–∏:
	
	t = { section = "logic@esc_smart_walker",
		idle = 0,
		prior = 5, state = {0},
		in_rest = "", out_rest = ""
	}
	table.insert(sj, t)
	
	—Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –≤ —Å–º–∞—Ä—Ç–µ —Å–µ–π—á–∞—Å –¥–≤–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ—Å—Ç–∞ –¥–ª—è –Ω–ø—Å, —Ä–∞–±–æ—Ç –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—Ç–æ–ª—å–∫–æ —Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –≤ capacity
	
end
----------------------------------------------------------------------
–í —Ñ—É–Ω–∫—Ü–∏–∏ function load_states(gname, type)
–º—ã —É–∫–∞–∑—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞—à–∏—Ö —Å–º–∞—Ä—Ç–æ–≤, –≤–∏–¥–µ–æ –ø—Ä–æ —ç—Ç–æ –µ—Å—Ç—å, –º–æ–∂–Ω–æ —Ä–∞–∑–±–∏—Ç—å —Ä–∞–±–æ—Ç—ã –Ω–∞ –¥–Ω–µ–≤–Ω—ã–µ –∏ –Ω–æ—á–Ω—ã–µ https://youtu.be/HAgwZtwN55M
	if type == "esc_smart" then
		return function(gulag)
			return 0
		end
	end
----------------------------------------------------------------------
–í —Ñ—É–Ω–∫—Ü–∏–∏ function checkStalker(npc_community, gulag_type, npc_rank, se_obj)
—É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –Ω–ø—Å
	if gulag_type == "esc_smart" then
		return npc_community == "stalker"
	end
----------------------------------------------------------------------

–í —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–∞–±–æ—Ç –≤–∏–¥–Ω–æ "logic@esc_smart_walker" —ç—Ç–æ —Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–æ–Ω—Ñ–∏–≥, –µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–ª–∏ –≤ gulag_escape.script, —Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ–º \gamedata\config\misc\gulag_escape.ltx

–∏ –≤—Å—Ç–∞–≤–ª—è–µ–º 

[logic@esc_smart_walker]
active = walker@esc_smart_walker

[walker@esc_smart_walker]
path_walk = walk

–≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—å—Å—è –ª–æ–≥–∏–∫–æ–π –Ω–ø—Å, –≤ —ç—Ç–æ–π —É –Ω–ø—Å —Å—Ö–µ–º–∞ walker, –≤ –∫–æ—Ç–æ—Ä–æ–π —É –Ω–ø—Å –µ—Å—Ç—å —Ç–æ—á–∫–∞ –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –æ–Ω —Å—Ç–æ–∏—Ç, –ª–∏–±–æ —Ü–µ–ª—ã–π –º–∞—Ä—à—Ä—É—Ç

–µ—â—ë —É –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã—Ö —Å–º–∞—Ä—Ç–æ–≤ –µ—Å—Ç—å —Ç–∞–∫–æ–π –Ω—é–∞–Ω—Å, —á—Ç–æ –∏–º—è —Ç–æ—á–∫–∏ –≤ –ª–æ–≥–∏–∫–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é, –∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏—à—å –æ–∫–æ–Ω—á–∞–Ω–∏–µ, –ù–û –≤ all.spawn –¥–æ–ª–∂–Ω–æ –∏–º–µ—Ç—å –∏–º—è: –∏–º—è_—Å–º–∞—Ä—Ç–∞_walk, —Ç–æ –µ—Å—Ç—å esc_smart_walk 
_walk —ç—Ç–æ –Ω–µ–∫–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å–º–∞—Ä—Ç–æ–≤, –≥–¥–µ —ç—Ç–æ –∏ –µ—Å—Ç—å —Ç–∏–ø —Ä–∞–±–æ—Ç, –Ω–æ —Ç–∞–º —ç—Ç–æ –æ–±—É—Å–ª–æ–≤–ª–µ–Ω–Ω–æ —Å–∫—Ä–∏–ø—Ç–æ–º –∏ –∏—Ö —Ä–∞–±–æ—Ç–æ–π –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ
–µ—â—ë —É —Ç–æ—á–µ–∫ –µ—Å—Ç—å —Ñ–ª–∞–≥–∏, –¥–ª—è –æ–¥–∏–Ω–æ—á–Ω—ã—Ö —Ç–æ—á–µ–∫ –≤–æ–ª–∫–µ—Ä–∞ –æ–Ω–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –ø–æ—á–∏—Ç–∞—Ç—å –ì–∞–π–¥ –ø–æ —Ç–æ—á–∫–∞–º –ø—É—Ç–µ–π.txt



–†–∞–∑–±–æ—Ä –ª–æ–≥–∏–∫–∏ –ø–æ –ø–æ–ª–æ—á–∫–∞–º:

–ï—Å—Ç—å –≤–∏–¥–µ–æ –≥–¥–µ —Ä–∞–∑–±–æ—Ä –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ —Å –ª–æ–≥–∏–∫–∏ –Ω–ø—Å  https://vkvideo.ru/video-226619903_456239347 , –Ω–æ –¥–∞–≤–∞–π—Ç–µ –∫–æ–ø–Ω–µ–º –µ—â—ë –≥–ª—É–±–∂–µ.

–í–æ—Ç —Å—Ç–æ–∏—Ç —É –Ω–∞—Å –ù–ü–° –Ω–∞ –ª–æ–∫–∞—Ü–∏–∏, –Ω–µ –≤–∞–∂–Ω–æ –∫–∞–∫ –æ–Ω –±—ã–ª –∑–∞—Å–ø–∞–≤–Ω–µ–Ω, —Å–æ–≥–ª–∞—Å–Ω–æ —Ñ–∞–π–ª—É m_stalker.ltx
–∏ —ç—Ç–æ–π –∑–∞–ø–∏—Å–∏ –≤ –Ω–µ–º
script_binding = bind_stalker.init
–î–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–ø—Å –≤ –∏–≥—Ä–µ –±—É–¥–µ—Ç –æ—Å—É—â–µ—Å—Ç–≤–ª–µ–Ω –∑–∞–ø—É—Å–∫ —Ñ—É–Ω–∫—Ü–∏–∏ init –∏–∑ bind_stalker.script
function init    (obj)
  xr_motivator.AddToMotivator(obj)
end
AddToMotivator –∏–∑ xr_motivator.script
function AddToMotivator(npc)
  if alife() then
    npc:bind_object(this.motivator_binder(npc))
  end
end
bind_object –¥–≤–∏–∂–∫–æ–≤—ã–π –º–µ—Ç–æ–¥
motivator_binder —ç—Ç–æ –ø—Å–µ–≤–¥–æ-–∫–ª–∞—Å—Å –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–≤–∏–∂–∫–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ object_binder

–ù–∞ —Å—Ç–∞–¥–∏–∏ net_spawn –∏–¥–µ—Ç –≤—ã–∑–æ–≤ xr_gulag, –∫–æ—Ç–æ—Ä—ã–π —Å–±–∏–≤–∞–µ—Ç —Å —Ç–æ–ª–∫—É
xr_gulag.setup_gulag_and_logic_on_spawn( self.object, self.st, sobject, modules.stype_stalker, self.loaded ) 
–Ω–æ —Ç–µ–º –Ω–µ –º–µ–Ω–µ–µ –≤ –Ω–µ–º –∏–¥–µ—Ç –≤—ã–∑–æ–≤ xr_logic
xr_logic.initialize_obj(obj, st, loaded, db.actor, stype)
–≤ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∏–¥–µ—Ç –∑–∞–ø—É—Å–∫ –¥–≤—É—Ö –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:

–ü–µ—Ä–≤–∞—è xr_logic.configure_schemes
–æ–Ω–∞ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞ –∑–∞–ø—É—Å–∫–æ–º —Ñ—É–Ω–∫—Ü–∏–π –∏–∑ xr_logic.script
disable_generic_schemes(npc, stype)
–∏
enable_generic_schemes(actual_ini, npc, stype, section_logic)

–ß–µ—Ä–µ–∑ enable_generic_schemes, –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è, —á–µ—Ä–µ–∑ –Ω–µ—ë —É –Ω–∞—Å –∏–¥–µ—Ç –∑–∞–ø—É—Å–∫ –∫–æ–º–ø–∞–Ω—å–æ–Ω–∞, –∞ —Ç–∞–∫ –∂–µ –∞–∫—Ç–∏–≤–∞—Ü–∏—è —Å—Ö–µ–º: "danger", "on_combat", "meet", "on_death"
—Ç–∞–∫–∏–º –º–∞–∫–∞—Ä–æ–º
    local meet_section = utils.cfg_get_string (ini, section, "meet", npc, false, "")
    xr_meet.set_meet (npc, ini, "meet", meet_section)
—Ç–æ –µ—Å—Ç—å –≤ –ª–æ–≥–∏–∫–µ –∏—â–µ—Ç—Å—è –∏–º–µ–Ω–Ω–æ –ø–∞—Ä–∞–º–µ—Ç—Ä meet —É—Å–ª–æ–≤–Ω–æ –≤ [walker], –≤–æ—Ç –∫–∞–∫ —É –í–æ–ª–∫–∞:
[walker@esc_lager_volk_walker1]
path_walk = wolf_walk
meet = meet@wolf

[meet@wolf]
meet_state    = 15|guard@wait
–ù–æ xr_meet –≤—Å—ë —Ä–∞–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ—Å—Ç–æ –ø—Ä–∏ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–∏ —Å–µ–∫—Ü–∏–∏ –æ–Ω –ø–æ–¥—Å—Ç–∞–≤–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

–í—Ç–æ—Ä–∞—è xr_logic.activate_by_section
–æ–Ω–∞ –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å –¥–µ–ª–∞–µ—Ç –∑–∞–≤–µ—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å—Ö–µ–º –ø–æ —Ç–∏–ø—É "walker", "camper", "remark", –∏ –Ω–∞—à "karavan", –∫–æ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç –∏—Ö –∞–∫—Ç–∏–≤–Ω—ã–º–∏ 
_G[filename].set_scheme(npc, ini, scheme, section, db.storage[npc_id]["gulag_name"])
filename –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∑–∞ —Å—á—ë—Ç modules.script
–≤ –∫–æ—Ç–æ—Ä–æ–º —É–∫–∞–∑–∞–Ω—ã –≤—Å–µ —Å—Ö–µ–º—ã:
load_scheme("xr_walker",      "walker",      stype_stalker)
load_scheme —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –∏–∑ _g.script, —Ç–∞–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã, –±–ª–∞–≥–æ–¥–∞—Ä—è –∫–æ—Ç–æ—Ä–æ–π —Å–∫—Ä–∏–ø—Ç—É –±—É–¥–µ—Ç –ø–æ–Ω—è—Ç–Ω–æ –∏–∑ –∫–∞–∫–æ–≥–æ —Ñ–∞–π–ª–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é set_scheme

—Ç–æ –µ—Å—Ç—å –∫–æ–≥–¥–∞ —É –Ω–ø—Å —Ç–∞–∫–∞—è –ª–æ–≥–∏–∫–∞
[logic]
active = walker

[walker]
path_walk = my_way_walk1
—Ñ—É–Ω–∫—Ü–∏—è activate_by_section –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç xr_walker, –≤–º–µ—Å—Ç–æ _G[filename] –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é set_scheme –∏–∑ xr_walker.script
–æ–Ω–∞ –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å –∑–∞–ø—É—Å–∫–∞–µ—Ç
xr_logic.assign_storage_and_bind
–∫–æ—Ç–æ—Ä–∞—è –¥–µ–ª–∞–µ—Ç –≤—ã–∑–æ–≤
_G[schemes[scheme]].add_to_binder(npc, ini, scheme, section, st)
–∏ –æ–ø—è—Ç—å –∂–µ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ modules.script, –ø–æ—ç—Ç–æ–º—É –≤ –Ω–µ–≥–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–Ω–µ—Å–µ–Ω—ã –≤—Å–µ —Å—Ö–µ–º—ã.

–ï—Å–ª–∏ –±—Ä–∞—Ç—å –≤ –ø—Ä–∏–º–µ—Ä xr_meet, —Ç–æ —Ç–∞–º —Ñ—É–Ω–∫—Ü–∏—è set_scheme –Ω–∞–∑–≤–∞–Ω–∞ set_meet, –∏ —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –ø–æ—Å–∫–æ–ª—å–∫—É –≤—ã–∑—ã–≤–∞–ª–∏ –º—ã –µ—ë –∏–∑ enable_generic_schemes, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –≤—ã–∑–≤–∞–Ω –≤ configure_schemes

—Ç–∞–∫ –≤–æ—Ç —ç—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –¥–µ–ª–∞–µ—Ç –∑–∞–ø—É—Å–∫ —Ñ—É–Ω–∫—Ü–∏–∏ add_to_binder –∏–∑ xr_walker.script –∞ –æ–Ω–∞ —É–∂–µ —è–≤–ª—è–µ—Ç—Å—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–º.

–î–∞–ª–µ–µ –ø–æ–π–¥–µ—Ç –∫–æ–ø–∏–ø–∞—Å—Ç —Å—Ç–∞—Ç—å–∏ Red75 (https://web.archive.org/web/20250725115402/https://sdk.stalker-game.com/ru/index.php?title=%D0%9B%D0%BE%D0%B3%D0%B8%D0%BA%D0%B0_NPC), –ø—ã—Ç–∞—é—Å—å –æ–±—ä—è—Å–Ω–∏—Ç—å —Ä–∞–±–æ—Ç—É —Ñ—É–Ω–∫—Ü–∏–∏ add_to_binder

–§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞ (object).
    local manager = npc:motivation_action_manager()
–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –±—É–¥–µ—Ç –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —É—Å–ª–æ–≤–∏–µ (–≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥ evaluate() —ç–≤–∞–ª—É–∞—Ç–æ—Ä–∞), –∏ –µ—Å–ª–∏ –æ–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä, –ø–æ–∫–∞ —É—Å–ª–æ–≤–∏–µ –Ω–µ —Å—Ç–∞–Ω–µ—Ç –ª–æ–∂–Ω—ã–º.

–ó–∞—Ç–µ–º –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∏–º–µ—Ç—å –ª—é–±–æ–µ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –≥–ª–∞–≤–Ω–æ–µ, —á—Ç–æ–±—ã –æ–Ω–∏ –±—ã–ª–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏.
    properties["need_walker"] = xr_evaluators_id.zmey_walker_base + 1
    operators["action_walker"] = xr_actions_id.zmey_walker_base + 1
–î–∞–ª–µ–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è —ç–≤–∞–ª—É–∞—Ç–æ—Ä –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫.
    manager:add_evaluator(properties["need_walker"], this.evaluator_need_walker(storage, "walker_need"))
–¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞—ë—Ç—Å—è –æ–ø–µ—Ä–∞—Ç–æ—Ä
    local new_action = this.action_walker_activity(npc, "action_walker_activity", storage)
–ó–∞–¥–∞—é—Ç—Å—è –ø—Ä–µ–¥—É—Å–ª–æ–≤–∏—è –¥–ª—è —ç—Ç–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞. –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –≤—ã–±–µ—Ä–µ—Ç —ç—Ç–æ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –≤—Å–µ—Ö —É—Å–ª–æ–≤–∏–π. –í—Å—ë —ç—Ç–æ –∑–Ω–∞—á–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Å–ª–µ–¥—É—é—â–µ–µ: —è –º–æ–≥—É –∏–¥—Ç–∏ –∫ —Ç–æ—á–∫–µ, –µ—Å–ª–∏:
—è –∂–∏–≤–æ–π,
    new_action:add_precondition(world_property(stalker_ids.property_alive, true))
–æ–ø–∞—Å–Ω–æ—Å—Ç–µ–π –Ω–µ—Ç,
    new_action:add_precondition(world_property(stalker_ids.property_danger,false))
–≤—Ä–∞–≥–æ–≤ –Ω–µ—Ç,
    new_action:add_precondition(world_property(stalker_ids.property_enemy, false))
–∞–Ω–æ–º–∞–ª–∏–π –ø–æ–±–ª–∏–∑–æ—Å—Ç–∏ –Ω–µ—Ç,
    new_action:add_precondition(world_property(stalker_ids.property_anomaly,false))
–≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –¥—Ä—É–≥–∏–µ –≤–∞–∂–Ω—ã–µ —É—Å–ª–æ–≤–∏—è (–∏–≥—Ä–æ–∫ –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —Å–æ –º–Ω–æ–π –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å, —è –Ω–µ —Å–æ–±–∏—Ä–∞—é—Å—å –Ω–∏–∫–æ–≥–æ –±–∏—Ç—å –ø–æ –º–æ—Ä–¥–µ, —è –Ω–µ —Ä–∞–Ω–µ–Ω, —è –Ω–µ —Å–æ–±–∏—Ä–∞—é—Å—å —Å—Ç—Ä–µ–ª—è—Ç—å –ø–æ –≤–µ—Ä—Ç–æ–ª—ë—Ç—É),
    xr_motivator.addCommonPrecondition(new_action)
–µ–≤–æ–ª—é—Ç–æ—Ä –¥–∞–ª —Ç—Ä—É, –∏ –º–æ–∂–Ω–æ –∏–¥—Ç–∏ –∫ —Ü–µ–ª–∏
    new_action:add_precondition(world_property(properties["need_walker"], true))
–í—ã–ø–æ–ª–Ω–∏–ª–∏ –¥–µ–π—Å—Ç–≤–∏–µ, –∑–∞–∫–æ–Ω—á–∏–ª–∏(–∏ —Ç–∞–∫ –ø–æ –∫—Ä—É–≥—É)
    new_action:add_effect(world_property(properties["need_walker"], false))
–°–æ–∑–¥–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–æ. –î–æ–±–∞–≤–∏–º –µ–≥–æ –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫.
    manager:add_action(operators["action_walker"], new_action)
–≠—Ç–∞ —Å—Ç—Ä–æ—á–∫–∞ –Ω–µ –∏–º–µ–µ—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∫ —Ä–∞–±–æ—Ç–µ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞. –ï—Å–ª–∏ –∫–æ—Ä–æ—Ç–∫–æ, —Ç–æ –æ–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç—É –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö (—Å–º–µ—Ä—Ç—å - –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ death_callback(), –ø–æ–ø–∞–¥–∞–Ω–∏–µ –ø—É–ª–∏ - –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ hit_callback() –∏ —Ç.–¥.)
    xr_logic.subscribe_action_for_events(npc, storage, new_action)
–û—Å—Ç–∞–ª–æ—Å—å –µ—â—ë –æ–¥–Ω–∞ –∑–∞–¥–∞—á–∞. –ù—É–∂–Ω–æ –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫—É –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä ¬´alife¬ª, —Ç–æ—Ç —Å–∞–º—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç NPC –±–æ–ª—Ç–∞—Ç—å—Å—è –ø–æ –∫–∞—Ä—Ç–µ, –æ—Ç—Å—Ç—Ä–µ–ª–∏–≤–∞—Ç—å —Å–æ–±–∞—á–µ–∫ –∏ –≤ –∫–æ–Ω—Ü–µ –∫–æ–Ω—Ü–æ–≤ –ø–æ–ø–∞–¥–∞—Ç—å –≤ –∞–Ω–æ–º–∞–ª–∏—é. –í–ø—Ä–æ—á–µ–º, –æ—Ç—Å—Ç—Ä–µ–ª–æ–º –≤—Ä–∞–≥–æ–≤ –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –¥—Ä—É–≥–æ–π –æ–ø–µ—Ä–∞—Ç–æ—Ä —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º stalker_ids.action_combat_planner.

–î–ª—è —ç—Ç–æ–≥–æ –º—ã –ø–æ–ª—É—á–∞–µ–º –æ–ø–µ—Ä–∞—Ç–æ—Ä ¬´alife¬ª
    new_action = manager:action(xr_actions_id.alife)
–ò –¥–æ–±–∞–≤–ª—è–µ–º –∫ –µ–≥–æ –ø—Ä–µ–¥—É—Å–ª–æ–≤–∏—è–º —Å–ª–µ–¥—É—é—â–µ–µ: —É—Å–ª–æ–≤–∏–µ ¬´–Ω–µ –ø—Ä–∏—à—ë–ª –ª–∏ —è?¬ª –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∏—Å—Ç–∏–Ω–Ω—ã–º.
    new_action:add_precondition(world_property(properties["need_walker"], false))
–ò—Ç–∞–∫, –º—ã –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫. –ü–æ—Å–º–æ—Ç—Ä–∏–º –∫–∞–∫ –≤—Å—ë —ç—Ç–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.
–≠–≤–æ–ª—é—Ç–æ—Ä –≤–æ–ª–∫–µ—Ä–∞ —Ç—Ä–µ–±—É–µ—Ç –æ–¥–Ω–æ–≥–æ —É—Å–ª–æ–≤–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –¥–æ–ª–∂–Ω–æ –¥–∞—Ç—å true
function evaluator_need_walker:evaluate()
    return xr_logic.is_active(self.object, self.st)
—ç—Ç–æ —á—Ç–æ–±—ã —Ç–µ–∫—É—â–∞—è –∞–∫—Ç–∏–≤–Ω–∞—è —Å—Ö–µ–º–∞ –Ω–ø—Å –±—ã–ª–∞ [walker] –¥–∞–ª—å—à–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —ç–∫—à–µ–Ω —Ç—É—Ç —è –Ω–µ–º–Ω–æ–≥–æ –ø–æ–ø–ª—ã–ª, –∏–±–æ –º–µ—Ç–æ–¥—ã –Ω–µ–º–Ω–æ–≥–æ —Å—Ç—Ä–∞–Ω–Ω—ã–µ, –Ω–æ –≤ –≤–æ–ª–∫–µ—Ä–µ –µ—â—ë –Ω–∞ —ç—Ç–∞–ø–µ set_scheme –∏ –¥–µ—Ç —á—Ç–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    st.path_walk = utils.cfg_get_string(ini, section, "path_walk", npc, true,  gulag_name)
    st.path_look = utils.cfg_get_string(ini, section, "path_look", npc, false, gulag_name)
–∏–∑ —á–µ–≥–æ –≤–∏–¥–∏–º —á—Ç–æ path_walk –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π, –∞ path_look –Ω–µ—Ç.

–ö–∞–∫ –∏–º–µ–Ω–æ –æ–Ω –∏–¥–µ—Ç —è –Ω–µ —Ä–∞–∑–æ–±—Ä–∞–ª—Å—è, –Ω–æ —Å—É–¥—è –ø–æ –≤—Å–µ–º—É –∏–∑-–∑–∞ —ç—Ç–æ–≥–æ
    self.move_mgr:reset(self.st.path_walk, self.st.path_walk_info, self.st.path_look, self.st.path_look_info, self.st.team, self.st.suggested_state)

–í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ xr_motivator.script –≤—Å–ø–æ–º–∏–Ω–∞–µ–º, —á—Ç–æ —Ç–∞–º —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∫–∏–π –±–∏–Ω–¥–µ—Ä –Ω–ø—Å - motivator_binder, –∑–∞ —Å—á—ë—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–∞—à—É—Ç –≤—Å–µ —Å—Ö–µ–º—ã, –ø–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–ø—Å, –µ—Å–ª–∏ –ø–æ –ø—Ä–æ—Å—Ç–æ–º—É.

—Ç–∞–∫ –≤–æ—Ç –Ω–∞ —Å—Ç–∞–¥–∏–∏
function motivator_binder:reinit()
–º–æ–∂–Ω–æ –∑–∞–º–µ—Ç–∏—Ç—å –∑–∞–ø—É—Å–∫ –¥–≤—É—Ö –¥—Ä—É–≥–∏—Ö –±–∏–Ω–¥–µ—Ä–æ–≤ –Ω–ø—Å
        self.st.state_mgr = state_mgr.bind_manager(self.object)

        self.st.move_mgr = move_mgr.move_mgr(self.object)
–í–æ—Ç –±–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É, –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Å–æ —Å—Ö–µ–º—ã –≤–æ–ª–∫–µ—Ä –Ω–∞—á–∏–Ω–∞—é—Ç –∏–º–µ—Ç—å —Å–º—ã—Å–ª.

–î–∞–Ω–Ω—ã–µ, –ø–æ–ø–∞–≤ –≤ –±–∏–Ω–¥–µ—Ä —Å—Ç–µ–π—Ç/–º—É–≤ –º–µ–Ω–µ–¥–∂–µ—Ä–∞, –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –¥–ª—è –Ω–ø—Å –∫—É–¥–∞ –µ–º—É –∏ –∫–∞–∫ –∏–¥—Ç–∏.

–î–µ–ª–∞—é –≤—ã–≤–æ–¥, —á—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–ø—Å –≤ –∞–ª–∞–π—Ñ–µ –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –≤ –¥–≤–∏–∂–∫–µ, –∏ –≤—Å–µ —ç—Ç–∏ —Å–∫—Ä–∏–ø—Ç—ã –Ω—É–∂–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å—Ö–µ–º, —ç—Ç–æ–º—É –≤—Ä–æ–¥–µ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç, –¥–æ–ª–∂–µ–Ω –∂–µ –±—ã—Ç—å —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç
