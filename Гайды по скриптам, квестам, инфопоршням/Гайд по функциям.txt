-- -*- mode: lua; coding: windows-1251-dos -*-

–î–∞–Ω–Ω—ã–π –≥–∞–π–¥ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç, —á—Ç–æ –≤—ã –≤–ª–∞–¥–µ–µ—Ç–µ –±–∞–∑–æ–≤—ã–º–∏ –Ω–∞–≤—ã–∫–∞–º–∏ –º–æ–¥–æ—Å—Ç—Ä–æ—è –∏ –ø—Ä–∏–º–µ—Ä–Ω–æ –ø–æ–Ω–∏–º–∞–µ—Ç–µ, —á—Ç–æ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å –∏ —Å–ª—É–∂–∏—Ç –ª–∏—â—å —à–ø–∞—Ä–≥–∞–ª–∫–æ–π. 

–î–õ–Ø –†–ê–ë–û–¢–´ –ë–û–õ–¨–®–ò–ù–°–¢–í–ê –§–£–ù–ö–¶–ò–ô –ù–£–ñ–ï–ù sak.script –∏–∑ –°–ë–û–†–ù–ò–ö–ê, –ø–æ—ç—Ç–æ–º—É –∫–∏–¥–∞–µ–º –µ–≥–æ –≤ —Å–≤–æ—é –ø–∞–ø–∫—É gamedata\scripts\
--------------------------------------------------------------------------------------------------------------
—Ñ–∞–π–ª—ã —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏(—Å–∫—Ä–∏–ø—Ç—ã) —Å–æ–∑–¥–∞—é—Ç—Å—è —Å–≤–æ–∏–º–∏ —Ä—É–∫–∞–º–∏ –≤ –ø–∞–ø–∫–µ gamedata\scripts –∏ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è "–∏–º—è_—Ñ–∞–π–ª–∞.script", –Ω–∏–≥–¥–µ –±–æ–ª—å—à–µ –∏—Ö —Ä–µ–≥–∞—Ç—å –Ω–µ –Ω–∞–¥–æ.
–°–ª–µ–¥–∏—Ç–µ –∑–∞ —Ç–µ–º, —á—Ç–æ –ø–∏—à–µ—Ç–µ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö, –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –≤—ã–∑—ã–≤–∞—é—Ç –≤—ã–ª–µ—Ç, —Å–≤–æ–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–∞–∫:
-- –º–æ–π –∫–æ–º–º–µ–Ω—Ç

–î–ª—è –Ω–∞—á–∞–ª–∞ –¥–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º —Ñ—É–Ω–∫—Ü–∏–∏, —Ç–æ –∫–∞–∫ –æ–Ω–∏ –≤—ã–≥–ª—è–¥—è—Ç:

function –∏–º—è_—Ñ—É–Ω–∫—Ü–∏–∏ ()
	—Ç–µ–ª–æ_—Ñ—É–Ω–∫—Ü–∏–∏
end

—Ç–µ–ª–æ_—Ñ—É–Ω–∫—Ü–∏–∏ - —á–∞—Å—Ç–æ –º–æ–∂–Ω–æ –≤ —ç—Ç–æ–º –º–µ—Å—Ç–µ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å –Ω–µ—á—Ç–æ –≤—Ä–æ–¥–µ:
dialogs.relocate_item_section(db.actor, "wpn_pm", "in")

relocate_item_section —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –∏–∑ dialogs.script , –∞ (db.actor, "wpn_pm", "in") —ç—Ç–æ –∞—Ä–≥—É–º–µ–Ω—Ç—ã —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

—Ç–æ –µ—Å—Ç—å, –µ—Å–ª–∏ –≤—ã –æ—Ç–∫—Ä–æ–µ—Ç–µ dialogs.script –∏ –Ω–∞–π–¥—ë—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é relocate_item_section, —Ç–æ —É–≤–∏–¥–∏—Ç–µ:
function relocate_item_section(victim, section, type)

–∏ –≤–º–µ—Å—Ç–æ (victim, section, type) –º—ã –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —É–∫–∞–∑–∞–ª–∏ (db.actor, "wpn_pm", "in")


–ù–µ —É –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –µ—Å—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã, –Ω–æ –∏–Ω–æ–≥–¥–∞ –≤ –¥–∏–∞–ª–æ–≥–µ –æ—Ç –Ω–∏—Ö –∑–∞–≤–∏—Å–∏—Ç –∫—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç –≤–µ—â—å, –∞ –∫—Ç–æ –æ—Ç–¥–∞–µ—Ç.

–ó–∞–∫—Ä–µ–ø–∏–º, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–Ω—É—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–∑—ã–≤—é—Ç—Å—è —Ç–∞–∫:

function –∏–º—è_—Ñ—É–Ω–∫—Ü–∏–∏ ()
	–∏–º—è_—Ñ–∞–π–ª–∞.—Ñ—É–Ω–∫—Ü–∏—è()
end

—Ç–∞–∫ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –¥–µ–ª–∞—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–∏–∞–ª–æ–≥–∏ –Ω–∞–ø—Ä–∏–º–µ—Ä –Ω–µ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã, –∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –≤ –ª–æ–≥–∏–∫–µ –ø—Ä–∏–¥—ë—Ç—Å—è –ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ –æ—Å–æ–±–µ–Ω–Ω–æ–º—É.

—Ç–∞–∫–∂–µ —Å—Ç–æ–∏—Ç —É—á–µ—Å—Ç—å, —á—Ç–æ –≤–æ –º–Ω–æ–≥–∏—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö –∏ –º–µ—Ç–æ–¥–∞—Ö —Å—Ç–æ–∏—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞–ª–∏—á–∏–µ –∞–∫—Ç–æ—Ä–∞:
function –∏–º—è_—Ñ—É–Ω–∫—Ü–∏–∏ ()
	if db.actor then
		...
	end
end

—Ç–∞–∫ –∫–∞–∫ –º–æ–∂–µ—Ç —Å–ª—É—á–∏—Ç—Å—è –≤—ã–ª–µ—Ç –µ—Å–ª–∏ –∞–∫—Ç–æ—Ä–∞ –Ω–µ –±—É–¥–µ—Ç

--------------------------------------------------------------------------------------------------------------
–í –¥–∏–∞–ª–æ–≥–∞—Ö —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è —Ç–∞–∫:
    <phrase id="121">
        <text>tutorial_wounded_give_medkit_121</text>
        <action>dialogs.transfer_medkit</action> 
    </phrase>
	
	–≤ –∏–Ω—Ñ–æ–ø–æ—Ä—à—è—Ö:
	<info_portion id="escape_stalker_meet">
		<action>dialogs.transfer_medkit</action>
	</info_portion>

–ù–æ –≤ –∏–Ω—Ñ–æ –ª—É—á—à–µ –Ω–µ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª—è—Ç—å, –∞ —Ç–æ –≤—ã–ª–µ—Ç—ã –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã.

–≥–¥–µ, dialogs —ç—Ç–æ dialogs.script, –∞ transfer_medkit —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –∏–∑ —ç—Ç–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
--------------------------------------------------------------------------------------------------------------
–¢–∞–∫ –∂–µ –≤ –¥–∏–∞–ª–æ–≥–∞—Ö –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ <precondition>, –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—Ä–∞–∑—ã –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å, –µ—Å–ª–∏ —Å–æ–±–ª—é–¥–µ–Ω—ã —É—Å–ª–æ–≤–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ 

            <phrase id="2">
                <text>tutorial_wounded_give_medkit_2</text>
                <precondition>dialogs.actor_have_medkit</precondition>
                <next>121</next>
            </phrase>
			
–í –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –¥–∏–∞–ª–æ–≥ –Ω–µ –≤—ã–π–¥–µ—Ç –Ω–∞ 2 —Ñ—Ä–∞–∑—É, –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ª–æ–≤–∏–µ –∏–∑ <precondition>dialogs.actor_have_medkit</precondition>
--------------------------------------------------------------------------------------------------------------
–ü—Ä–µ–∫–æ–Ω–¥–∏—à–Ω—ã –º–æ–∂–Ω–æ —Å—Ç–∞–≤–∏—Ç—å –∏ –Ω–∞ —Å–∞–º –¥–∏–∞–ª–æ–≥, —á—Ç–æ–±—ã –∑–∞–¥–∞—Ç—å —É—Å–ª–æ–≤–∏–µ –µ–≥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è.

    <dialog id="escape_trader_talk_level" priority="2">
        <precondition>escape_dialog.trader_alredy_give_job</precondition>
        <phrase_list>
			
--------------------------------------------------------------------------------------------------------------            
–í –∫–≤–µ—Å—Ç–∞—Ö —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—ã–≥–ª—è–¥—è—Ç —Ç–∞–∫ <function_complete>sak.prov</function_complete>
		<objective>
			<text>name_pod_kvest_1</text>
			<function_complete>sak.prov</function_complete>
		</objective>
--------------------------------------------------------------------------------------------------------------            
–°–∞–º–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—ã–≥–ª—è–¥—è—Ç —Ç–∞–∫:

function –Ω–∞–∑–≤–∞–Ω–∏–µ_—Ñ—É–Ω–∫—Ü–∏–∏()
	if "–Ω–∞–±–æ—Ä —É—Å–ª–æ–≤–∏–π" then
		return true
	end
	return false
end

"–Ω–∞–±–æ—Ä —É—Å–ª–æ–≤–∏–π" —ç—Ç–æ –Ω–µ—á—Ç–æ –≤—Ä–æ–¥–µ if has_alife_info("–∏–Ω—Ñ–æ–ø–æ—Ä—à–Ω1") and not has_alife_info("–∏–Ω—Ñ–æ–ø–æ—Ä—à–Ω2") then  —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, –µ—Å–ª–∏ –ø–æ–ª—É—á–µ–Ω "–∏–Ω—Ñ–æ–ø–æ—Ä—à–Ω1" –∏ –Ω–µ –ø–æ–ª—É—á–µ–Ω "–∏–Ω—Ñ–æ–ø–æ—Ä—à–Ω2", —Ç–æ –∏—Å—Ç–∏–Ω–∞
–∏–ª–∏ if sak.have_item_namber("af_medusa",1) and sak.have_item_namber("wpn_pm",1) then —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, –µ—Å–ª–∏ –ø–æ–ª—É—á–µ–Ω 1 "af_medusa" –∏ 1 –ø–æ–ª—É—á–µ–Ω "wpn_pm", —Ç–æ –∏—Å—Ç–∏–Ω–∞
--------------------------------------------------------------------------------------------------------------
—Ç—É—Ç –∏–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –∏–Ω—Ñ–æ, –µ—Å–ª–∏ –æ–¥–Ω–æ –∏–∑ —É—Å–ª–æ–≤–∏–π –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–π–¥—ë—Ç, –∞ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –Ω–µ—Ç

function trader_alredy_give_job()
	if (has_alife_info("agroprom_military_case") and not has_alife_info("agroprom_military_case_done")) or
	   (has_alife_info("escape_blockpost_case") and not has_alife_info("escape_blockpost_case_done")) or
	   (has_alife_info("tutorial_artefact_start") and not has_alife_info("tutorial_artefact_done")) or
	   (has_alife_info("tutorial_wounded_start") and not has_alife_info("esc_serious_talk"))
	then
		return true
	end
	return false
end
--------------------------------------------------------------------------------------------------------------
–ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç af_medusa –∏ —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –ø—Ä–µ–∫–æ–Ω–¥–∏—à–µ–Ω–µ
--------------------------------------------------------------------------------------------------------------
function prov() 
	return sak.have_item_namber("af_medusa",1) ~= false
end
--------------------------------------------------------------------------------------------------------------
–ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É, –µ—Å–ª–∏ –µ—Å—Ç—å –∏–Ω—Ñ–æ "storyline_actor_start" –∏ –Ω–µ—Ç –∏–Ω—Ñ–æ "when_out_kordon", —Ç–æ –±—É–¥–µ—Ç –≤—ã–¥–∞–Ω –∏–Ω—Ñ–æ "infoportion_xxx"
function prov_info2()
	if has_alife_info("storyline_actor_start") and not has_alife_info("when_out_kordon") then
		db.actor:give_info_portion("infoportion_xxx")
	end 
end
--------------------------------------------------------------------------------------------------------------
–í–´–ü–û–õ–ù–ï–ù–ò–ï –§–£–ù–ö–¶–ò–ò –ü–†–ò –ü–û–ü–ê–î–ê–ù–ò–ò –ü–†–ï–î–ú–ï–¢–ê –í –ò–ù–í–ï–ù–¢–ê–†–¨(–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –ø—Ä–∏ –ø–æ–¥–±–æ—Ä–µ —Å –∑–µ–º–ª–∏ –∞–ø—Ç–µ—á–∫–∏ –Ω–∞ –±—É–¥—É—Ç –≤—ã–¥–∞–Ω—ã –ø—Ä–µ–¥–º–µ—Ç—ã, –Ω–∏–∂–µ –ø—Ä–∏–≤–µ–ª –ø—Ä–∏–º–µ—Ä –¥–ª—è –≤–∞—à–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫)

–≤ \gamedata\scripts\bind_stalker.script
–≤ function actor_binder:on_item_take (obj)
–¥–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–æ–∫—É
sak.take_item(obj)

–≤ –≤–∞—à–µ–º —Ñ–∞–π–ª–µ sak.script

function take_item(obj)
local obj_sect = obj:section()

	if obj_sect == "medkit" then
		dialogs.relocate_item_section(db.actor, "wpn_bm16", "in")	
	end
	-- if obj_sect == "–≤–∞—à_–ø—Ä–µ–¥–º–µ—Ç" then
		--–≤–∞—à–µ –¥–µ–π—Å—Ç–≤–∏–µ
	-- end
end
--------------------------------------------------------------------------------------------------------------
–í–´–ü–û–õ–ù–ï–ù–ò–ï –§–£–ù–ö–¶–ò–ò –ü–†–ò –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ò –ü–†–ï–î–ú–ï–¢–ê –í –ò–ù–í–ï–ù–¢–ê–†–ï
1.–í –§–ê–ô–õ–ï "bind_stalker.script" –≤ —Ñ—É–Ω–∫—Ü–∏–∏ 
function actor_binder:net_destroy() 

–ø–æ—Å–ª–µ self.object:set_callback(callback.take_item_from_box, nil)
–≤—Å—Ç–∞–≤–ª—è–µ–º  self.object:set_callback(callback.use_object, nil)

2.–¥–∞–ª–µ–µ –≤ 
function actor_binder:reinit()
–ø–æ—Å–ª–µ self.object:set_callback(callback.take_item_from_box, self.take_item_from_box, self)
–≤—Å—Ç–∞–≤–ª—è–µ–º self.object:set_callback(callback.use_object, self.use_object, self)

–º–µ–∂–¥—É —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –≤—Å—Ç–∞–≤–ª—è–µ–º 
function actor_binder:use_object(obj)
	sak.use_item(obj)
end

–≤ –≤–∞—à–µ–º —Ñ–∞–π–ª–µ sak.script

function use_item(obj)
local obj_sect = obj:section()

	if obj_sect == "medkit" then
		dialogs.relocate_item_section(db.actor, "wpn_bm16", "in")	
	end
	-- if obj_sect == "–≤–∞—à_–ø—Ä–µ–¥–º–µ—Ç" then
		--–≤–∞—à–µ –¥–µ–π—Å—Ç–≤–∏–µ
	-- end
end
--------------------------------------------------------------------------------------------------------------
–ü–†–û–í–ï–†–ö–ê –ù–ê –ù–ê–ñ–ê–¢–ò–ï –ö–õ–ê–í–ò–®
1.–í –§–ê–ô–õ–ï "bind_stalker.script" –≤ —Ñ—É–Ω–∫—Ü–∏–∏ 
function actor_binder:net_destroy()

	self.object:set_callback(callback.on_key_press, self.on_key, self)
	
2.–¥–∞–ª–µ–µ –≤ 
function actor_binder:reinit()

	self.object:set_callback(callback.on_key_press, self.on_key, self)
	
3.–Ω–∏–∂–µ

function actor_binder:on_key(key, bind)
	self.object:call("on_key", key, bind)
end
----------------------------------------------------------------------------------------------------------------------
function actor_binder:on_key(key)
	if key == DIK_keys.DIK_V then
	if noclip_mode.noclip_active == true then
		noclip_mode.noclip_active = false
	else
		noclip_mode.noclip_active = true
	end
	end
	
	if key == DIK_keys.DIK_NUMPAD1 then
	if noclip_mode.delay_time > 0 then
		noclip_mode.delay_time = noclip_mode.delay_time - 5
		db.actor:give_game_news(string.format("–ó–∞–¥–µ—Ä–∂–∫–∞ = %G.. –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥", noclip_mode.delay_time), "ui\\ui_iconsTotal",Frect():set(663,554,194,102), 0, 1000)
	end
	end
	
	if key == DIK_keys.DIK_NUMPAD2 then
	noclip_mode.delay_time	= noclip_mode.delay_time + 5
	db.actor:give_game_news(string.format("–ó–∞–¥–µ—Ä–∂–∫–∞ = %G.. –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥", noclip_mode.delay_time), "ui\\ui_iconsTotal",Frect():set(663,554,194,102), 0, 1000)
	end
	
end
--------------------------------------------------------------------------------------------------------------
–î–ª—è –æ—Ä–∏–≥–∏–Ω–∞–ª–∞ –¢–ß: https://vk.com/@-226619903-testovaya-statya

—Ñ–∞–π–ª—ã
https://drive.google.com/drive/folders/1UzgB239SlfY52QzXmvNgR3hH1DUmRkZq


--------------------------------------------------------------------------------------------------------------
–¢–∞–∫–∂–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å —á–µ—Ä–µ–∑ –ª–æ–≥–∏–∫—É
--------------------------------------------------------------------------------------------------------------

–í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏:
%=–Ω–∞–∑–≤–∞–Ω–∏–µ_—Ñ—É–Ω–∫—Ü–∏–∏%

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–∏:
{=–Ω–∞–∑–≤–∞–Ω–∏–µ_—Ñ—É–Ω–∫—Ü–∏–∏}

–ü—Ä–∏–º–µ—Ä:

[logic]
active = sr_idle1

[sr_idle1]
on_timer = 10000 | %=–Ω–∞–∑–≤–∞–Ω–∏–µ_—Ñ—É–Ω–∫—Ü–∏–∏% sr_idle

–§—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–ª–∂–Ω—ã –ª–µ–∂–∞—Ç—å –≤ \gamedata\scripts\xr_conditions.script

–§—É–Ω–∫—Ü–∏–∏ —Ç–∏–ø–∞ %=% –¥–æ–ª–∂–Ω—ã –ª–µ–∂–∞—Ç—å –≤ \gamedata\scripts\xr_effects.script




--------------------------------------------------------------------------------------------------------------
–î–õ–Ø –ë–´–°–¢–†–û–ì–û –¢–ï–°–¢–ê –§–£–ù–ö–¶–ò–ô –ò–°–ü–û–õ–¨–ó–£–ï–ú bind_stalker.script
--------------------------------------------------------------------------------------------------------------


–Ω–∞—Ö–æ–¥–∏–º if self.bCheckStart then
–∏ —Å—Ç—Ä–æ–∫–æ–π –Ω–∏–∂–µ printf("SET DEFAULT INFOS")
–≤—Å—Ç–∞–≤–ª—è–µ–º –Ω–∞–ø—Ä–∏–º–µ—Ä –≤—ã–¥–∞—á—É –∏–Ω—Ñ–æ  db.actor:give_info_portion("tutorial_artefact_start")
–≠—Ç–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏ –Ω–∞—á–∞–ª–µ –Ω–æ–≤–æ–π –∏–≥—Ä—ã, –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —É—Ä–æ–≤–Ω—è\–ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ –ª–æ–∫–∞—Ü–∏—é.
--------------------------------------------------------------------------------------------------------------
–ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –∑–∞–ø—É—Å–∫ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –Ω–∞—á–∞–ª–µ –∏–≥—Ä—ã –Ω—É–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –µ—ë –≤ if not has_alife_info("global_dialogs") then —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏–ª–æ—Å—å —Ç–∞–∫
if not has_alife_info("global_dialogs") then
	db.actor:give_info_portion("tutorial_artefact_start") -- –≤–∞—à–µ –¥–µ–π—Å—Ç–≤–∏–µ
	self.object:give_info_portion("global_dialogs")
end
--------------------------------------------------------------------------------------------------------------




--------------------------------------------------------------------------------------------------------------
–ü–û–°–¢–ê–í–ò–¢–¨ –§—É–Ω–∫—Ü–∏–∏ –ù–ê –ü–û–°–¢–û–Ø–ù–ù–£–Æ –ü–†–û–í–ï–†–ö–£ –ú–û–ñ–ù–û –ß–ï–†–ï–ó:
--------------------------------------------------------------------------------------------------------------


–í function proceed() –≤ —Ñ–∞–π–ª–µ \gamedata\scripts\escape_tasks.script
—Ç–∞–º –∑–∞–ø—É—â–µ–Ω–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π, –ø–æ–ª–µ–∑–Ω–æ, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —á—Ç–æ–±—ã —É—Å–ª–æ–≤–∏–µ –ø—Ä–æ–≤–µ—Ä—è–ª–æ—Å—å –≤–Ω–µ –∫–≤–µ—Å—Ç–≤ –∏ –¥–∏–∞–ª–æ–≥–∞.
–ù–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞: 
function proceed()
 –≤—Å—Ç–∞–≤–ª—è–µ–º
	if	not has_alife_info("tutorial_artefact_start") and sak.have_item_namber("af_medusa",1)
	then		
		db.actor:give_info_portion("tutorial_artefact_start")
	end

–†–∞–∑–±–∏—Ä–∞–µ–º: –ø—Ä–æ–≤–µ—Ä–∫–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–∫–∞ –Ω–µ –ø–æ–ª—É—á–µ–Ω –∏–Ω—Ñ–æ "tutorial_artefact_start", —Ç–∞–∫ –∫–∞–∫ –ø–æ—Å–ª–µ –ø–æ–ø–∞–¥–∞–Ω–∏—è –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å "af_medusa" –±—É–¥–µ—Ç –≤—ã–¥–∞–Ω –∏–Ω—Ñ–æ "tutorial_artefact_start" —Ç–µ–º —Å–∞–º—ã–º –∑–∞–≤–µ—Ä—à–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫—É.

–°–≤–æ–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∞–∫ –∂–µ –Ω–∞—á–∏–Ω–∞–µ–º —Å if –∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ–º end, –æ—Ñ–æ—Ä–º–ª—è–µ–º –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É:
	if "–Ω–∞–±–æ—Ä —É—Å–ª–æ–≤–∏–π" and not has_alife_info("–∏–Ω—Ñ–æ–ø–æ—Ä—à–Ω1") then
		-- –≤–∞—à–µ –¥–µ–π—Å—Ç–≤–∏–µ
		db.actor:give_info_portion("–∏–Ω—Ñ–æ–ø–æ—Ä—à–Ω1")
	end

"–Ω–∞–±–æ—Ä —É—Å–ª–æ–≤–∏–π" —ç—Ç–æ –Ω–µ—á—Ç–æ –≤—Ä–æ–¥–µ if has_alife_info("–∏–Ω—Ñ–æ–ø–æ—Ä—à–Ω1") and not has_alife_info("–∏–Ω—Ñ–æ–ø–æ—Ä—à–Ω2") then

—Ç–æ –µ—Å—Ç—å, –µ—Å–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ª–æ–≤–∏–µ –∏ –Ω–µ –ø–æ–ª—É—á–µ–Ω –∏–Ω—Ñ–æ, —Ç–æ –≤—ã–¥–∞–µ–º —ç—Ç–æ—Ç –∏–Ω—Ñ–æ —á—Ç–æ–±—ã –∑–∞–∫—Ä—ã—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É, –µ—Å–ª–∏ —Ç–∞–∫ –Ω–µ —Å–¥–µ–ª–∞—Ç—å, —Ç–æ "–≤–∞—à–µ –¥–µ–π—Å—Ç–≤–∏–µ" –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ, —Ç–∞–∫–æ–π –ø—Ä–æ–±–ª–µ–º—ã –ª–∏—à–µ–Ω—ã –∫–≤–µ—Å—Ç—ã –∏ –ø—Ä–µ–∫–æ–Ω–¥–∏—à–µ–Ω—ã –≤ –¥–∏–∞–ª–æ–≥–∞—Ö, –≤–µ–¥—å —Ç–∞–º –µ—Å–ª–∏ –∏—Å—Ç–∏–Ω–∞, —Ç–æ —Å—Ä–∞–∑—É —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∫–ª—é—á–∞–µ—Ç—Å—è
--------------------------------------------------------------------------------------------------------------


–ù–û —Ç–∞–º –∂–µ –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è process_info_portion(info_id) 
–í–æ—Ç –ø—Ä–∏–º–µ—Ä
 elseif info_id == "esc_tutorial_secret_place_found" then 
  level_tasks.remove_location(025, "green_location")

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∏–Ω—Ñ–æ "esc_tutorial_secret_place_found" –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ, –∏ –∫–∞–∫ –º–æ–∂–µ—Ç–µ –∑–∞–º–µ—Ç–∏—Ç—å –Ω–∏–∫–∞–∫–æ–≥–æ –±–æ–ª–µ–µ —É—Å–ª–æ–≤–∏—è –Ω–µ—Ç –∏ –Ω–µ –Ω—É–∂–Ω–æ.
--------------------------------------------------------------------------------------------------------------


–ü–æ–º–∏–º–æ "escape_tasks.script" –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ "\gamedata\scripts\bind_stalker.script"

–Ω–∞—Ö–æ–¥–∏–º function actor_binder:update(delta)
–∏ –ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 	object_binder.update(self, delta)
–≤—Å—Ç–∞–≤–ª—è–µ–º –∏–º—è_–≤–∞—à–µ–≥–æ_—Ñ–∞–π–ª–∞.–∏–º—è_—Ñ—É–Ω–∫—Ü–∏–∏()

–Ω–∞–ø—Ä–∏–º–µ—Ä —ç—Ç–æ –±—É–¥–µ—Ç sak.script –∏ —Ñ—É–Ω–∫—Ü–∏—è main
–ø–æ–ª—É—á–∏–ª–æ—Å—å:
function actor_binder:update(delta)
	object_binder.update(self, delta)
	sak.main()

—Ñ—É–Ω–∫—Ü–∏—é main –æ—Ñ–æ—Ä–º–ª—è–µ–º –∫–∞–∫ –∏ function proceed() –∏–∑ —Ñ–∞–π–ª–∞ \gamedata\scripts\escape_tasks.script

function main()
	if sak.have_item_namber("af_medusa",1) and not has_alife_info("tutorial_artefact_start") then		
		db.actor:give_info_portion("tutorial_artefact_start")
	end
end
--------------------------------------------------------------------------------------------------------------




--------------------------------------------------------------------------------------------------------------
–°–ü–û–°–û–ë–´ –í–ó–ê–ò–ú–û–î–ï–ô–°–¢–í–ò–Ø –° –ù–ü–° –ò –ü–†–û–ß–ò–ú–ò –û–ë–™–ï–ö–¢–ê–ú–ò
--------------------------------------------------------------------------------------------------------------
–í–∞–∂–Ω—ã–π –Ω—é–∞–Ω—Å! –ö–æ–≥–¥–∞ –º—ã —Å–ø–∞–≤–Ω–∏–º –Ω–ø—Å —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç, —Ç–æ –µ–≥–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –æ–±—Ä–∞–∑—É–µ—Ç—Å—è –Ω–µ —Å—Ä–∞–∑—É, –ø–æ—ç—Ç–æ–º—É –µ—Å—Ç—å —Ç–∞–∫–æ–π –≤–æ—Ç —Å–ø–æ—Å–æ–±, –∫–∞–∫ –±–µ–∑ —Å–µ–π–≤–ª–æ–∞–¥–æ–≤ —Å—Ä–∞–∑—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –Ω–∞ –Ω–∞—à–µ–º –Ω–ø—Å:
function spawn()
  local sobj = create(section, position, lvid, gvid)
  level.client_spawn_manager():add(sobj.id, 65535,
    function (id, cobj)
      cobj:set_goodwill(-5000, db.actor)
    end
  )
  return obj
end
–ï—Å—Ç—å –µ—â—ë –Ω—é–∞–Ω—Å—ã, –Ω–ø—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å  –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ –Ω–µ –±–æ–ª–µ–µ 140 –º–µ—Ç—Ä–æ–≤ –æ—Ç –≥–≥, –∏–Ω—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ –≤ –æ–Ω–ª–∞–π–Ω–µ.

–í –¥–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏ —Å–µ–∫—Ü–∏—è –≤–∞—à–µ–≥–æ –Ω–ø—Å, –≤—Å—ë –∫–∞–∫ –æ–±—ã—á–Ω–æ, –∞ –≤–æ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã–º, —Ç—É—Ç:
cobj:set_goodwill(-5000, db.actor)
–∏–∑–º–µ–Ω–µ–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è —ç—Ç–æ–≥–æ –Ω–ø—Å –∫ –∞–∫—Ç–æ—Ä—É, –ø–∞—Ä–∞–º–µ—Ç—Ä cobj –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∑–∞ —Å—á—ë—Ç
function (id, cobj)
–ø–æ—ç—Ç–æ–º—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –Ω–µ –º–µ–Ω—è—Ç—å, –∞ —Å–∞–º–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å cobj –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫:
utils.send_to_nearest_accessible_vertex(cobj,107814)
—Ç–æ –µ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—ë–º –∫–∞–∫ —É–¥–æ–±–Ω–æ.
--------------------------------------------------------------------------------------------------------------
–ü–†–û –¢–û –ö–ê–ö –†–ê–ë–û–¢–ê–Æ–¢ –ú–ï–¢–û–î–´ –í –§–£–ù–ö–¶–ò–Ø–•
--------------------------------------------------------------------------------------------------------------
–î–ª—è –Ω–∞—á–∞–ª–∞ –æ–ø—Ä–µ–¥–µ–ª–∏–º –ª–æ–∫–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é obj - —ç—Ç–æ –±—É–¥–µ—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –æ–±—ä–µ–∫—Ç, —Å –Ω–µ–π –±—É–¥–µ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã, –ø–æ–¥ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ–º –ø–æ–Ω–∏–º–∞–µ—Ç—Å—è –ø—Ä–∏–º–µ—Ä–Ω–æ —Å–ª–µ–¥—É—é—â–µ–µ:

obj:set_money( 65000 ) —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ–Ω–µ–≥ 
obj:set_character_rank(1000) —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞–Ω–≥
–≠—Ç–∏ –¥–≤–∞ –º–µ—Ç–æ–¥–∞ –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –û–ì–°–†

–¢–∞–∫ –≤–æ—Ç —ç—Ç–∏ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ  –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤, –Ω–æ –µ—Å—Ç—å –µ—â—ë –∏ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –º–µ—Ç–æ–¥—ã...

–ß–µ —ç—Ç–æ –≤–æ–æ–±—â–µ? üíÄ –≠—Ç–æ –∫–æ—Ä–æ—á–µ —Ä–∞–∑—Ä–∞–±—ã –≤ –¥–≤–∏–∂–∫–µ —Å–¥–µ–ª–∞–ª–∏ —Ä–∞–∑–Ω—ã–µ –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç –ª–∏–±–æ –¥–ª—è sobj(—Å–µ—Ä–≤–µ—Ä–Ω—ã–π –æ–±—ä–µ–∫—Ç), –ª–∏–±–æ –¥–ª—è obj(–∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –æ–±—ä–µ–∫—Ç), —Ç–æ –µ—Å—Ç—å –Ω–∞—à–ª–∏ –≤—ã –∫–∞–∫–æ–π-—Ç–æ –º–µ—Ç–æ–¥, —Ç–∏–ø–∞ –Ω–ø—Å –¥–µ–Ω–µ–≥ –ø—Ä–∏–±–∞–≤–∏—Ç—å, –∞ –æ–Ω –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π, –≤–æ—Ç —Å–º–æ—Ç—Ä–∏–º –Ω–∏–∂–µ –∫–∞–∫ obj –ø–æ–ª—É—á–∞—Ç—å.
–î–ª—è –Ω–∞—á–∞–ª–∞ –æ–ø—Ä–µ–¥–µ–ª–∏–º —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –æ–±—ä–µ–∫—Ç
-- –°–µ—Ä–≤–µ—Ä–Ω—ã–π –æ–±—ä–µ–∫—Ç –ù–ø—Å –í–æ–ª–∫ sobj
local sobj = alife():object("esc_wolf")
-- –∏–ª–∏ –ø–æ —Å—Ç–æ—Ä–∏ –∞–π–¥–∏
local sobj = alife():story_object( 6 ) 

-- –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –æ–±—ä–µ–∫—Ç obj
—É–∫–∞–∑—ã–≤–∞—Ç—å –Ω—É–∂–Ω–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∞–π–¥–∏, –ø–æ–ª—É—á–∞—Ç—å –µ–≥–æ –º–æ–∂–Ω–æ —Å–ø–æ—Å–æ–±–∞–º–∏ –Ω–∏–∂–µ
local obj = level.object_by_id(15787)
--–ù–æ –≤ —Ç–æ–∂–µ –≤—Ä–µ–º—è –µ—Å–ª–∏ —É –Ω–ø—Å –µ—Å—Ç—å —Å—Ç–æ—Ä–∏ –∞–π–¥–∏ –∏ –Ω–∞–º –Ω—É–∂–µ–Ω –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –º–µ—Ç–æ–¥, —Ç–æ:
local obj = level_object_by_sid( 6 )

–ê —Ç–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞–µ–º –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∏–∑ —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ, obj –∏–∑ sobj

—ç—Ç–æ –∑–Ω–∞—á–∏—Ç –≤ –∏–≥—Ä–µ –µ—Å—Ç—å –Ω–ø—Å —É –∫–æ—Ç–æ—Ä–æ–≥–æ name –≤ all.spawn "esc_wolf", —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä–æ—á–µ –Ω–µ–π–º –∏ –≤—Å—ë –¥–∞–ª—å—à–µ obj –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤–æ –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –º–µ—Ç–æ–¥–∞—Ö
local sobj = alife():object("esc_wolf") -- –°–µ—Ä–≤–µ—Ä–Ω—ã–π –æ–±—ä–µ–∫—Ç
local obj = level.object_by_id(sobj.id) -- –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –æ–±—ä–µ–∫—Ç

–º–æ–∂–Ω–æ –µ—â—ë –ø–æ —Å—Ç–æ—Ä–∏ –∞–π–¥–∏

local sobj = alife():story_object(6) -- –°–µ—Ä–≤–µ—Ä–Ω—ã–π –æ–±—ä–µ–∫—Ç
local obj = level.object_by_id(sobj.id) -- –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –æ–±—ä–µ–∫—Ç

–í–æ—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–∞—Ä—É –ø—Ä–∏–º–µ—Ä–æ–≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤:
--—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ—Ç–Ω–æ—à–µ–Ω–∏–π
obj:set_relation(game_object.friend, db.actor)

--–∏ –Ω–æ–≤—ã–µ –∏–∑ –æ–≥—Å—Ä
obj:set_money( 65000 )
obj:set_character_rank(1000)
obj:set_npc_position(vector():set(-152.0,-18.0,-144.3),98126,45)

–¢–æ–ª—å–∫–æ –ø—Ä–æ—à—É –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ —Ç–∞–∫:
local sobj = alife():object("esc_wolf") -- –°–µ—Ä–≤–µ—Ä–Ω—ã–π –æ–±—ä–µ–∫—Ç
–Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–ø—Å, –∑–∞—Å–ø–∞–≤–Ω–µ–Ω–æ–≥–æ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç, –¥–ª—è –Ω–∏—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –∏ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Å–µ—Ä–≤–µ—Ä–∞. –¢–æ–∂–µ –ø–µ—Ä–µ–±–æ—Ä –ø–æ –∏–º–µ–Ω–∏ —Ç–æ–ª—å–∫–æ sapwn_section —Ç–µ–ø–µ—Ä—å —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è
function perebor() 
	for a=1,65635,1 do 
	local obj=level.object_by_id(a) 
		if obj and string.find(obj:name(),"esc_wolf") then 
			-- –¥–µ–π—Å—Ç–≤–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, —É–±–∏—Ç—å —ç—Ç–æ–≥–æ –Ω–ø—Å:
			obj:kill(obj)
		end 
	end 
end

–¢–µ–ø–µ—Ä—å –Ω–∞–æ–±–æ—Ä–æ—Ç –ø–æ–ª—É—á–∞–µ–º —Å–µ—Ä–≤–µ—Ä–Ω—ã–π —á–µ—Ä–µ–∑ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π

—ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ñ—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–±–æ—Ä–∞ –∏–º–µ–Ω, –ø–æ–∫–∞–∑–∞–Ω–Ω–∞—è –≤—ã—à–µ –∏–ª–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å—Ç–æ—Ä–∏ –∞–π–¥–∏ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞.

–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –æ–±—ä–µ–∫—Ç —ç—Ç–æ –µ–≥–æ –∞–π–¥–∏, —Ç–∏–ø–∞ 16575, –Ω–æ —Ç—É—Ç –Ω–∞–¥–æ –ø–æ–Ω–∏–º–∞—Ç—å —á—Ç–æ –∑–∞—Ä–∞–Ω–µ–µ –æ–Ω –Ω–µ –∏–∑–≤–µ—Å—Ç–µ–Ω, –ø–æ—ç—Ç–æ–º—É —Å–º—ã—Å–ª –≤ —Ç–æ–º —á—Ç–æ–±—ã —á–µ—Ä–µ–∑ –¥–∏–∞–ª–æ–≥ –∏–ª–∏ –ª–æ–≥–∏–∫—É –¥–µ–ª–∞—Ç—å —Ç–∞–∫:
--—Ç—É—Ç –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ npc –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω —á–µ—Ä–µ–∑ –¥–∏–∞–ª–æ–≥, –Ω–∞–ø—Ä–∏–º–µ—Ä —ç—Ç–æ —Ç–æ—Ç —Å –∫–µ–º –≥–æ–≤–æ—Ä–∏–º –∏–ª–∏ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö –∫–∞–∫-–Ω–∏–±—É–¥—å.
local obj = level.object_by_id(npc)
local sobj = alife():object( obj:id() )

--–ª–∏–±–æ –¥–µ–ª–∞—Ç—å –∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ –Ω–∏–∂–µ
local sobj = obj and alife():object(obj:id())
--—Ç—É—Ç –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ –∞–π–¥–∏'—à–∫–∞ –ø–µ—Ä–µ–¥–∞—Å—Ç—Å—è —Å—Ä–∞–∑—É, –±–µ–∑ –¥–æ–ø —É—Å–∏–ª–∏–π.

–∏ –¥–µ–π—Å—Ç–≤–∏–µ  –Ω–∞–ø—Ä–∏–º–µ—Ä:
--—É–¥–∞–ª–∏—Ç—å:
alife():release(sobj)

--—É–≤–µ—Å—Ç–∏ –≤ –æ—Ñ—Ñ–ª–∞–π–Ω:
alife():set_switch_online(sobj.id, false) 
alife():set_switch_offline(sobj.id, true)

--–ø–æ—Å—Ç–∞–≤–∏—Ç—å –º–µ—Ç–∫—É
level.map_add_object_spot(sobj.id, "green_location", "—Ç–µ–∫—Å—Ç")

–í–æ—Ç —è—Ä–∫–∏–π –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ —á–µ—Ä–µ–∑ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –æ–±—ä–µ–∫—Ç –∏ –∫–∞–∫ –≤—ã–∑–æ–≤ –∏–∑ –ª–æ–≥–∏–∫–∏ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
–ß–µ—Ä–µ–∑ –ª–æ–≥–∏–∫—É –∏–Ω–∞—á–µ –∏ –Ω–µ –≤—ã–π–¥–µ—Ç, –≤–µ–¥—å –æ–Ω–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –æ–±—ä–µ–∫—Ç.
–µ—Å–ª–∏ –≤ xr_effects.script
–¥–æ–±–∞–≤–∏—Ç—å 

function remove_object(actor, obj)
local sobj = obj and alife():object(obj:id())
¬† if sobj then
¬†¬†¬† alife():release(sobj)
¬† end
end

—Ç–æ –≤ —Ä–µ—Å—Ç—Ä–∏–∫—Ç–æ—Ä–µ –∏–ª–∏ –≥–¥–µ —É–≥–æ–¥–Ω–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤—ã–∑–æ–≤ –∏ –æ–±—ä–µ–∫—Ç —É–¥–∞–ª–∏—Ç—Å—è
on_actor_outside = nil %=remove_object%

–¢–µ–ø–µ—Ä—å —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –º–æ–º–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤ —á–µ—Ä–µ–∑ –ª–æ–≥–∏–∫—É/–¥–∏–∞–ª–æ–≥
–≤ xr_effects.script
–¥–æ–±–∞–≤–∏—Ç—å 

function kill_object(actor, obj)
¬† if obj then
¬†¬†¬† obj:kill(obj)
¬† end
end

--–∞ –≤ –ª–æ–≥–∏–∫–µ –Ω–ø—Å/–¥–∏–∞–ª–æ–≥–µ —Å–¥–µ–ª–∞—Ç—å –≤—ã–∑–æ–≤ –∏ –æ–±—ä–µ–∫—Ç –¥–æ–ª–∂–µ–Ω –ø–æ–≥–∏–±–Ω—É—Ç—å, –≤—ã–∑–æ–≤:
on_info = {¬±–∏–Ω—Ñ–æ} %=kill_object%
--–∏–ª–∏ –≤ –¥–∏–∞–ª–æ–≥–µ, –Ω–æ —É—á–∏—Ç—ã–≤–∞–π—Ç–µ —á—Ç–æ –Ω—É–∂–Ω–æ —Å—Ç–∞–≤–∏—Ç—å –Ω–∞ —Ñ—Ä–∞–∑—É, –∫–æ—Ç–æ—Ä—É—é –≥–æ–≤–æ—Ä–∏—Ç –≥–≥
<action>xr_effects.kill_object</action>
–∫–∞–∫ –≤–∏–¥–∏—Ç–µ —Å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º –º–µ—Ç–æ–¥–æ–º –Ω–∏–∫–∞–∫ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å obj –Ω–µ –ø—Ä–∏—à–ª–æ—Å—å, –≤–µ–¥—å –æ–Ω –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∏–∑ —Å–µ–±—è –∞–π–¥–∏.


